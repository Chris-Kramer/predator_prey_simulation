import base64
eval(compile(base64.b64decode(b'IiIiClRoaXMgbW9kdWxlIGltcGxlbWVudHMgYmF0Y2ggYW5kIGdyYXBoaWNhbCB2aXN1YWxpc2VycyBmb3IgdGhlIHNpbXVsYXRpb24uCiIiIgoKaW1wb3J0IGVudGl0aWVzCmltcG9ydCB0eXBpbmcKaW1wb3J0IHRpbWUKCmNsYXNzIEJhdGNoOgogICIiIgogIFRoaXMgY2xhc3MgaW5jcmVtZW50YWxseSBwcmludHMgYSBwcm9ncmVzcyBiYXIgdG8gc2hvdyB0aGUgcHJvcG9ydGlvbiBvZiAKICBzaW11bGF0aW9uIHN0ZXBzIGNvbXBsZXRlZCAoYnV0IG5vdGhpbmcgbW9yZSkuIAoKICBUaGUgY29uc3RydWN0b3IgdGFrZXMgdGhlIHRvdGFsIG51bWJlciBvZiBzdGVwcyBhbmQsIG9wdGlvbmFsbHksIHRoZSB3aWR0aCBvZgogIHRoZSBwcm9ncmVzcyBiYXIgaW4gY2hhcmFjdGVycyAobWluaW11bSBpcyAzMCwgZGVmYXVsdCBpcyA2MCkuCgogIHZpcyA9IEJhdGNoUHJvZ3Jlc3MoIHRvdGFsX3N0ZXBzLCB0ZXh0X3dpZHRoID0gODApCiAgdmlzLnN0YXJ0KCkKICBmb3Igc3RlcCBpbiByYW5nZSggdG90YWxfc3RlcHMgKToKICAgIHZpcy51cGRhdGUoIHN0ZXAsIDEgKQogIHZpcy5zdG9wKCkKICAiIiIKCiAgX19zbG90c19fID0gWwogICAgIl90b3RhbF9zdGVwcyIsCiAgICAiX3RleHRfd2lkdGgiLAogICAgIl9maWxsZWQiCiAgXQoKICBkZWYgX19pbml0X18oc2VsZiwgdG90YWxfc3RlcHMgOiBpbnQsIHRleHRfd2lkdGggOiBpbnQgPSA2MCk6CiAgICBzZWxmLl90b3RhbF9zdGVwcyA9IHRvdGFsX3N0ZXBzCiAgICBzZWxmLl90ZXh0X3dpZHRoID0gbWF4KDMwLCB0ZXh0X3dpZHRoKQogICAgc2VsZi5fZmlsbGVkID0gMAogIAogIGRlZiBzdGFydChzZWxmKToKICAgICIiIgogICAgQmVnaW5zIGRpc3BsYXlpbmcgdGhlIHByb2dyZXNzIGluZGljYXRvci4KICAgICIiIgogICAgc2VsZi5fZmlsbGVkID0gMAogICAgcHJpbnQoJyBbJyArICdzaW11bGF0aW9uIHByb2dyZXNzJy5jZW50ZXIoc2VsZi5fdGV4dF93aWR0aCAtIDgpICsgJ10gICAgICcpCiAgICBwcmludCgnIFsnLCBlbmQ9JycsIGZsdXNoPVRydWUpCiAgICAKICBkZWYgdXBkYXRlKHNlbGYsIHN0ZXAgOiBpbnQpOgogICAgIiIiCiAgICBVcGRhdGVzIHRoZSBwcm9ncmVzcyBpbmRpY2F0b3IgdG8gcmVmbGVjdCB0aGUgYW1vdW50IG9mIGNvbXBsZXRlZCBzdGVwcwogICAgKGV4cGVjdGVkIHRvIGdyb3cgbW9ub3RvbmljYWxseSkuCiAgICAiIiIKICAgIHggPSBpbnQocm91bmQoKHNlbGYuX3RleHRfd2lkdGggLSA4KSAqIHN0ZXAgLyBzZWxmLl90b3RhbF9zdGVwcykpCiAgICBpZiB4IC0gc2VsZi5fZmlsbGVkID4gMDoKICAgICAgcHJpbnQoJy0nICogKHggLSBzZWxmLl9maWxsZWQpLCBlbmQ9JycsIGZsdXNoPVRydWUpCiAgICAgIHNlbGYuX2ZpbGxlZCA9IHgKCiAgZGVmIHN0b3Aoc2VsZik6CiAgICAiIiIKICAgIENvbXBsZXRlcyB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yLgogICAgIiIiCiAgICBzZWxmLnVwZGF0ZShzZWxmLl90b3RhbF9zdGVwcykKICAgIHByaW50KCddIGRvbmUnLGZsdXNoPVRydWUpCgoKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBtYXRwbG90bGliIGFzIG1wbAppbXBvcnQgbWF0cGxvdGxpYi5weXBsb3QgYXMgcGx0CgpjbGFzcyBHcmF5c2NhbGVHcmFwaGljcyhCYXRjaCk6CiAgIiIiCiAgQmVzaWRlcyBvZmZlcmluZyB0aGUgc2FtZSBmdW5jdGlvbmFsaXR5IG9mIEJhdGNoLCB0aGlzIGNsYXNzIHZpc3VhbGlzZXMKICB0aGUgc2ltdWxhdGVkIHdvcmxkIHVzaW5nIGNvbG91cnMgdG8gcmVwcmVzZW50IGFuaW1hbHMgYW5kIGdyYXNzIGxldmVsLgogIFRoZSBjbGFzcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdG90YWwgbnVtYmVyIG9mIHN0ZXBzLCB0aGUgbGlzdCBvZiBwYXRjaGVzCiAgaW4gdGhlIHNpbXVsYXRpb24gKGEgMUQgbGlzdCksIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBncmlkIG9mIHBhdGNoZXMgCiAgKHNvIG9uZSBwYXRjaCBmb3IgZXZlcnkgcGFpciAwIDw9IHggPCB3aWR0aCBhbmQgMCA8PSB5IDwgaGVpZ2h0KS4KICBUaGUgY29uc3RydWN0b3IgaGFzIGFsc28gdGhyZWUgb3B0aW9uYWwgYXJndW1lbnRzOiB0aGUgZmlyc3QgaXMgYSB0aW1lIGRlbGF5IAogIGluIHNlY29uZHMgYWRkZWQgdG8gZWFjaCBjYWxsIHRvIHRoZSB1cGRhdGUgbWV0aG9kIChtaW5pbXVtIGlzIDAuMDVzLCBkZWZhdWx0IAogIGlzIDAuMXMpLCB0aGUgc2Vjb25kIGlzIGEgYm9vbGVhbiBmbGFnIHNwZWNpZnlpbmcgd2hldGhlciB0byByZW5kZXIgdGhlIAogIGFtb3VudCBvZiBncmFzcyBpbiBlYWNoIHBhdGNoLCB0aGUgbGFzdCBvbmUgaXMgdGhlIHNhbWUgb3B0aW9uYWwgYXJndW1lbnQgb2YgCiAgQmF0Y2guCgogIENvbG91ckdyYXBoaWModG90YWxfc3RlcHMsIHBhdGNoZXMsIHdpZHRoLCBoZWlnaHQsIGRlbGF5ID0gMC4xLCBncmFzc19sZXZlbHMgPSBGYWxzZSwgdGV4dF93aWR0aCA9IDYwKQogICIiIgoKICBfX3Nsb3RzX18gPSBbCiAgICAiX3dpZHRoIiwKICAgICJfaGVpZ2h0IiwKICAgICJfcGx0X2dyaWQiLAogICAgIl9wYXRjaGVzIiwKICAgICJfZ3Jhc3MiLAogICAgIl9maWciLAogICAgIl93YXgiLAogICAgIl93aW0iLAogICAgIl9kZWxheSIKICBdCgogIGRlZiBfX2luaXRfXyhzZWxmLCB0b3RhbF9zdGVwcyA6IGludCwgCiAgICAgICAgICAgICAgIHBhdGNoZXMgOiB0eXBpbmcuTGlzdFtlbnRpdGllcy5QYXRjaF0sCiAgICAgICAgICAgICAgIHdpZHRoIDogaW50LCBoZWlnaHQgOiBpbnQsCiAgICAgICAgICAgICAgIGRlbGF5IDogZmxvYXQgPSAwLjEsCiAgICAgICAgICAgICAgIGdyYXNzX2xldmVscyA6IGJvb2wgPSBGYWxzZSwKICAgICAgICAgICAgICAgdGV4dF93aWR0aCA6IGludCA9IDYwKToKICAgIHN1cGVyKCkuX19pbml0X18odG90YWxfc3RlcHMsIHRleHRfd2lkdGgpCgogICAgc2VsZi5fd2lkdGggPSB3aWR0aAogICAgc2VsZi5faGVpZ2h0ID0gaGVpZ2h0CiAgICBzZWxmLl9wbHRfZ3JpZCA9IG5wLnplcm9zKChzZWxmLl9oZWlnaHQsc2VsZi5fd2lkdGgpKQogICAgc2VsZi5fcGF0Y2hlcyA9IHBhdGNoZXMKICAgIHNlbGYuX2dyYXNzID0gZ3Jhc3NfbGV2ZWxzCiAgICBzZWxmLl91cGRhdGVfZ3JpZCgpCiAgICBzZWxmLl9kZWxheSA9IG1heChkZWxheSwwLjA1KQoKICBkZWYgX3VwZGF0ZV9ncmlkKHNlbGYpOiAgICAKICAgIGdyaWQgPSBzZWxmLl9wbHRfZ3JpZAogICAgZm9yIHBhdGNoIGluIHNlbGYuX3BhdGNoZXM6CiAgICAgIHgseSA9IHBhdGNoLmNvb3JkaW5hdGVzKCkKICAgICAgaWYgcGF0Y2guaGFzX2FsaXZlX2ZveCgpIG9yIHBhdGNoLmhhc19hbGl2ZV9yYWJiaXQoKToKICAgICAgICBncmlkW3kseF0gPSAxLjIKICAgICAgZWxpZiBzZWxmLl9ncmFzczoKICAgICAgICBncmlkW3kseF0gPSAocGF0Y2guZ3Jhc3MoKSAvIGVudGl0aWVzLlBhdGNoLm1heF9ncmFzc19hbW91bnQpICogMC43CiAgICAgIGVsc2U6CiAgICAgICAgZ3JpZFt5LHhdID0gMAoKICBkZWYgc3RhcnQoc2VsZik6CiAgICAiIiIKICAgIEJlZ2lucyBkaXNwbGF5aW5nIHRoZSBwcm9ncmVzcyBpbmRpY2F0b3IgYW5kIG9wZW5zIHRoZSBzaW11bGF0aW9uIHdpbmRvdy4KICAgICIiIgogICAgc3VwZXIoKS5zdGFydCgpCiAgICBmaWcsIHdheCA9IHBsdC5zdWJwbG90cygpCiAgICBmaWcuaXNfb3BlbiA9IFRydWUKICAgIGRlZiBfb25fY2xvc2UoZXZlbnQpOgogICAgICBldmVudC5jYW52YXMuZmlndXJlLmlzX29wZW4gPSBGYWxzZQogICAgZmlnLmNhbnZhcy5tcGxfY29ubmVjdCgnY2xvc2VfZXZlbnQnLCBfb25fY2xvc2UpCiAgICBmaWcuY2FudmFzLm1hbmFnZXIuc2V0X3dpbmRvd190aXRsZSgnRm94ZXMgYW5kIHJhYmJpdHMnKQogICAgc2VsZi5fZmlnID0gZmlnCiAgICB3YXguYXhlcy54YXhpcy5zZXRfdGlja3MobnAuYXJhbmdlKDAsc2VsZi5fd2lkdGgsNSkpCiAgICB3YXguYXhlcy54YXhpcy5zZXRfdGlja3MocmFuZ2Uoc2VsZi5fd2lkdGgpLCBtaW5vcj1UcnVlKQogICAgd2F4LmF4ZXMueWF4aXMuc2V0X3RpY2tzKG5wLmFyYW5nZSgwLHNlbGYuX2hlaWdodCw1KSkKICAgIHdheC5heGVzLnlheGlzLnNldF90aWNrcyhyYW5nZShzZWxmLl9oZWlnaHQpLCBtaW5vcj1UcnVlKQogICAgd2F4LmdyaWQod2hpY2g9J2JvdGgnLCBhbHBoYT0wLjIpCiAgICBzZWxmLl93YXggPSB3YXgKICAgIHNlbGYuX3dpbSA9IHdheC5pbXNob3coc2VsZi5fcGx0X2dyaWQsIAogICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uPSduZWFyZXN0JywgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtYXA9J2dyYXlfcicsIAogICAgICAgICAgICAgICAgICAgICAgICAgICB2bWluID0gMCwgdm1heD0xLjUpCgogIGRlZiB1cGRhdGUoc2VsZiwgc3RlcCA6IGludCk6IAogICAgIiIiCiAgICBVcGRhdGVzIHRoZSBzaW11bGF0aW9uIHdpbmRvdyBhbmQgdGhlIHByb2dyZXNzIGluZGljYXRvciAoc2VlIEJhdGNoLnVwZGF0ZSkuCiAgICAiIiIKICAgIHRzID0gdGltZS5wZXJmX2NvdW50ZXIoKQogICAgc3VwZXIoKS51cGRhdGUoc3RlcCkKICAgIGlmIHNlbGYuX2ZpZy5pc19vcGVuOgogICAgICBzZWxmLl91cGRhdGVfZ3JpZCgpCiAgICAgIHNlbGYuX3dpbS5zZXRfZGF0YShzZWxmLl9wbHRfZ3JpZCkKICAgICAgd2F4ID0gc2VsZi5fd2F4CiAgICAgIHdheC50ZXh0cy5jbGVhcigpCiAgICAgIGZvciBwYXRjaCBpbiBzZWxmLl9wYXRjaGVzOgogICAgICAgIHgseSA9IHBhdGNoLmNvb3JkaW5hdGVzKCkKICAgICAgICBhZiA9IHBhdGNoLmhhc19hbGl2ZV9mb3goKQogICAgICAgIGFyID0gcGF0Y2guaGFzX2FsaXZlX3JhYmJpdCgpCiAgICAgICAgaWYgYWYgYW5kIGFyOgogICAgICAgICAgd2F4LnRleHQoeCx5LCAiRi9SIiwgaGE9ImNlbnRlciIsIHZhPSJjZW50ZXIiLCBjb2xvcj0idyIpCiAgICAgICAgZWxpZiBhZjoKICAgICAgICAgIHdheC50ZXh0KHgseSwgIkYiLCBoYT0iY2VudGVyIiwgdmE9ImNlbnRlciIsIGNvbG9yPSJ3IikKICAgICAgICBlbGlmIGFyOgogICAgICAgICAgd2F4LnRleHQoeCx5LCAiUiIsIGhhPSJjZW50ZXIiLCB2YT0iY2VudGVyIiwgY29sb3I9InciKQogICAgICBwbHQuZHJhdygpCiAgICAgIHRlID0gdGltZS5wZXJmX2NvdW50ZXIoKQogICAgICBwYXVzZSA9IG1heCgwLjA1LCBzZWxmLl9kZWxheSAtICh0ZSAtIHRzKSkKICAgICAgcGx0LnBhdXNlKHBhdXNlKQoKICBkZWYgc3RvcChzZWxmKToKICAgICIiIgogICAgQ2xvc2VzIHRoZSBzaW11bGF0aW9uIHdpbmRvdyBhbmQgY29tcGxldGVzIHRoZSBwcm9ncmVzcyBpbmRpY2F0b3IuCiAgICAiIiIKICAgIHN1cGVyKCkuc3RvcCgpCiAgICBpZiBzZWxmLl9maWcuaXNfb3BlbjoKICAgICAgcGx0LmNsb3NlKHNlbGYuX2ZpZykKCmNsYXNzIENvbG91ckdyYXBoaWNzKEJhdGNoKToKICAiIiIKICBCZXNpZGVzIG9mZmVyaW5nIHRoZSBzYW1lIGZ1bmN0aW9uYWxpdHkgb2YgQmF0Y2gsIHRoaXMgY2xhc3MgdmlzdWFsaXNlcwogIHRoZSBzaW11bGF0ZWQgd29ybGQgdXNpbmcgY29sb3VycyB0byByZXByZXNlbnQgYW5pbWFscyBhbmQgZ3Jhc3MgbGV2ZWwuCiAgVGhlIGNsYXNzIGNvbnN0cnVjdG9yIHRha2VzIHRoZSB0b3RhbCBudW1iZXIgb2Ygc3RlcHMsIHRoZSBsaXN0IG9mIHBhdGNoZXMKICBpbiB0aGUgc2ltdWxhdGlvbiAoYSAxRCBsaXN0KSwgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGdyaWQgb2YgcGF0Y2hlcwogIChzbyBvbmUgcGF0Y2ggZm9yIGV2ZXJ5IHBhaXIgMCA8PSB4IDwgd2lkdGggYW5kIDAgPD0geSA8IGhlaWdodCkuCiAgVGhlIGNvbnN0cnVjdG9yIGhhcyBhbHNvIHRocmVlIG9wdGlvbmFsIGFyZ3VtZW50czogdGhlIGZpcnN0IGlzIGEgdGltZSBkZWxheSAKICBpbiBzZWNvbmRzIGFkZGVkIHRvIGVhY2ggY2FsbCB0byB0aGUgdXBkYXRlIG1ldGhvZCAobWluaW11bSBpcyAwLjA1cywgZGVmYXVsdCAKICBpcyAwLjFzKSwgdGhlIHNlY29uZCBpcyBhIGJvb2xlYW4gZmxhZyBzcGVjaWZ5aW5nIHdoZXRoZXIgdG8gcmVuZGVyIHRoZSAKICBhbW91bnQgb2YgZ3Jhc3MgaW4gZWFjaCBwYXRjaCwgdGhlIGxhc3Qgb25lIGlzIHRoZSBzYW1lIG9wdGlvbmFsIGFyZ3VtZW50IG9mIAogIEJhdGNoLgoKICBDb2xvdXJHcmFwaGljKHRvdGFsX3N0ZXBzLCBwYXRjaGVzLCB3aWR0aCwgaGVpZ2h0LCBkZWxheSA9IDAuMSwgZ3Jhc3NfbGV2ZWxzID0gRmFsc2UsIHRleHRfd2lkdGggPSA2MCkKICAiIiIKCiAgX19zbG90c19fID0gWwogICAgIl93aWR0aCIsCiAgICAiX2hlaWdodCIsCiAgICAiX3BsdF9ncmlkIiwKICAgICJfcGF0Y2hlcyIsCiAgICAiX2dyYXNzIiwKICAgICJfZmlnIiwKICAgICJfd2F4IiwKICAgICJfd2ltIiwKICAgICJfZGVsYXkiCiAgXQoKICBkZWYgX19pbml0X18oc2VsZiwgdG90YWxfc3RlcHMgOiBpbnQsIAogICAgICAgICAgICAgICBwYXRjaGVzIDogdHlwaW5nLkxpc3RbZW50aXRpZXMuUGF0Y2hdLAogICAgICAgICAgICAgICB3aWR0aCA6IGludCwgaGVpZ2h0IDogaW50LAogICAgICAgICAgICAgICBkZWxheSA6IGZsb2F0ID0gMC4xLAogICAgICAgICAgICAgICBncmFzc19sZXZlbHMgOiBib29sID0gRmFsc2UsCiAgICAgICAgICAgICAgIHRleHRfd2lkdGggOiBpbnQgPSA2MCk6CiAgICBzdXBlcigpLl9faW5pdF9fKHRvdGFsX3N0ZXBzLCB0ZXh0X3dpZHRoKQoKICAgIHNlbGYuX3dpZHRoID0gd2lkdGgKICAgIHNlbGYuX2hlaWdodCA9IGhlaWdodAogICAgc2VsZi5fcGx0X2dyaWQgPSBucC56ZXJvcygoc2VsZi5faGVpZ2h0ICogMiwgc2VsZi5fd2lkdGggKiAyKSkKICAgIHNlbGYuX3BhdGNoZXMgPSBwYXRjaGVzCiAgICBzZWxmLl9ncmFzcyA9IGdyYXNzX2xldmVscwogICAgc2VsZi5fdXBkYXRlX2dyaWQoKQogICAgc2VsZi5fZGVsYXkgPSBtYXgoZGVsYXksMC4wNSkKCiAgZGVmIF91cGRhdGVfZ3JpZChzZWxmKTogICAgCiAgICBncmlkID0gc2VsZi5fcGx0X2dyaWQKICAgIGZvciBwYXRjaCBpbiBzZWxmLl9wYXRjaGVzOgogICAgICB4LHkgPSBwYXRjaC5jb29yZGluYXRlcygpCiAgICAgIHggKj0gMgogICAgICB5ICo9IDIKICAgICAgYWYgPSBwYXRjaC5oYXNfYWxpdmVfZm94KCkKICAgICAgYXIgPSBwYXRjaC5oYXNfYWxpdmVfcmFiYml0KCkKICAgICAgZ3IgPSBwYXRjaC5ncmFzcygpIC8gZW50aXRpZXMuUGF0Y2gubWF4X2dyYXNzX2Ftb3VudCBpZiBzZWxmLl9ncmFzcyBlbHNlIDAKICAgICAgaWYgYWYgYW5kIGFyOgogICAgICAgIGdyaWRbeSAgLHggIF0gPSAyIAogICAgICAgIGdyaWRbeSsxLHgrMV0gPSAyCiAgICAgICAgZ3JpZFt5ICAseCsxXSA9IDMKICAgICAgICBncmlkW3krMSx4ICBdID0gMwogICAgICBlbGlmIGFmOgogICAgICAgIGdyaWRbeSAgLHggIF0gPSAyIAogICAgICAgIGdyaWRbeSsxLHgrMV0gPSAyCiAgICAgICAgZ3JpZFt5ICAseCsxXSA9IDIKICAgICAgICBncmlkW3krMSx4ICBdID0gMgogICAgICBlbGlmIGFyOgogICAgICAgIGdyaWRbeSAgLHggIF0gPSAzIAogICAgICAgIGdyaWRbeSsxLHgrMV0gPSAzCiAgICAgICAgZ3JpZFt5ICAseCsxXSA9IDMKICAgICAgICBncmlkW3krMSx4ICBdID0gMwogICAgICBlbHNlOgogICAgICAgIGdyaWRbeSAgLHggIF0gPSBnciAKICAgICAgICBncmlkW3krMSx4KzFdID0gZ3IKICAgICAgICBncmlkW3kgICx4KzFdID0gZ3IKICAgICAgICBncmlkW3krMSx4ICBdID0gZ3IKCgogIGRlZiBzdGFydChzZWxmKToKICAgICIiIgogICAgQmVnaW5zIGRpc3BsYXlpbmcgdGhlIHByb2dyZXNzIGluZGljYXRvciBhbmQgb3BlbnMgdGhlIHNpbXVsYXRpb24gd2luZG93LgogICAgIiIiCiAgICBzdXBlcigpLnN0YXJ0KCkKICAgIGZpZywgd2F4ID0gcGx0LnN1YnBsb3RzKCkKICAgIGZpZy5pc19vcGVuID0gVHJ1ZQogICAgZGVmIF9vbl9jbG9zZShldmVudCk6CiAgICAgIGV2ZW50LmNhbnZhcy5maWd1cmUuaXNfb3BlbiA9IEZhbHNlCiAgICBmaWcuY2FudmFzLm1wbF9jb25uZWN0KCdjbG9zZV9ldmVudCcsIF9vbl9jbG9zZSkKICAgIGZpZy5jYW52YXMubWFuYWdlci5zZXRfd2luZG93X3RpdGxlKCdGb3hlcyBhbmQgcmFiYml0cycpCiAgICBzZWxmLl9maWcgPSBmaWcKICAgIHdheC5heGVzLnhheGlzLnNldF90aWNrcyhucC5hcmFuZ2UoMC41LHNlbGYuX3dpZHRoKjIsMTApKQogICAgd2F4LmF4ZXMueGF4aXMuc2V0X3RpY2tsYWJlbHMobnAuYXJhbmdlKDAsc2VsZi5fd2lkdGgsNSkpCiAgICB3YXguYXhlcy54YXhpcy5zZXRfdGlja3MobnAuYXJhbmdlKDAuNSxzZWxmLl93aWR0aCoyLDIpLCBtaW5vcj1UcnVlKQogICAgd2F4LmF4ZXMueWF4aXMuc2V0X3RpY2tzKG5wLmFyYW5nZSgwLjUsc2VsZi5faGVpZ2h0KjIsMTApKQogICAgd2F4LmF4ZXMueWF4aXMuc2V0X3RpY2tsYWJlbHMobnAuYXJhbmdlKDAsc2VsZi5faGVpZ2h0LDUpKQogICAgd2F4LmF4ZXMueWF4aXMuc2V0X3RpY2tzKG5wLmFyYW5nZSgwLjUsc2VsZi5faGVpZ2h0KjIsMiksIG1pbm9yPVRydWUpCiAgICB3YXguZ3JpZCh3aGljaD0nYm90aCcsIGFscGhhPTAuMikKICAgIHdheC5zZXRfYXNwZWN0KCJlcXVhbCIpCiAgICBzZWxmLl93YXggPSB3YXgKICAgIGNtYXAgPSBtcGwuY29sb3JzLkxpc3RlZENvbG9ybWFwKFsnbGltZWdyZWVuJywnZm9yZXN0Z3JlZW4nLCdncmVlbicsJ2RhcmtncmVlbicsICdkYXJrb3JhbmdlJywgJ2RpbWdyZXknXSkKICAgIGJvdW5kcyA9IFswLCAwLjAyLCAwLjMsIDAuNiwgMS4xLCAyLjUsIDMuNV0KICAgIG5vcm0gPSBtcGwuY29sb3JzLkJvdW5kYXJ5Tm9ybShib3VuZHMsIGNtYXAuTikKICAgIHNlbGYuX3dpbSA9IHdheC5pbXNob3coc2VsZi5fcGx0X2dyaWQsIGludGVycG9sYXRpb249J25vbmUnLCBjbWFwPWNtYXAsIG5vcm09bm9ybSwpCgogIGRlZiB1cGRhdGUoc2VsZiwgc3RlcCA6IGludCk6IAogICAgIiIiCiAgICBVcGRhdGVzIHRoZSBzaW11bGF0aW9uIHdpbmRvdyBhbmQgdGhlIHByb2dyZXNzIGluZGljYXRvciAoc2VlIEJhdGNoLnVwZGF0ZSkuCiAgICAiIiIKICAgIHRzID0gdGltZS5wZXJmX2NvdW50ZXIoKQogICAgc3VwZXIoKS51cGRhdGUoc3RlcCkKICAgIGlmIHNlbGYuX2ZpZy5pc19vcGVuOgogICAgICBzZWxmLl91cGRhdGVfZ3JpZCgpCiAgICAgIHNlbGYuX3dpbS5zZXRfZGF0YShzZWxmLl9wbHRfZ3JpZCkKICAgICAgcGx0LmRyYXcoKQogICAgICB0ZSA9IHRpbWUucGVyZl9jb3VudGVyKCkKICAgICAgcGF1c2UgPSBtYXgoMC4wNSwgc2VsZi5fZGVsYXkgLSAodGUgLSB0cykpCiAgICAgIHBsdC5wYXVzZShwYXVzZSkKCiAgZGVmIHN0b3Aoc2VsZik6CiAgICAiIiIKICAgIENsb3NlcyB0aGUgc2ltdWxhdGlvbiB3aW5kb3cgYW5kIGNvbXBsZXRlcyB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yLgogICAgIiIiCiAgICBzdXBlcigpLnN0b3AoKQogICAgaWYgc2VsZi5fZmlnLmlzX29wZW46CiAgICAgIHBsdC5jbG9zZShzZWxmLl9maWcpCg=='),'<string>','exec'))